<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@6"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@6.1.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@7"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"values": [{"filename": "examples/account_opening_form.png", "key": "acct-number", "expected": "115207765307001", "llm_is_correct": true, "min_logprob": -0.6243079304695129, "mean_logprob": -0.09510073399248252, "var_logprob": 0.03562705238598584}, {"filename": "examples/account_opening_form.png", "key": "person-name", "expected": "Shane Sanchez", "llm_is_correct": true, "min_logprob": -3.547789674485102e-05, "mean_logprob": -4.415919968116875e-06, "var_logprob": 1.0577611193160626e-10}, {"filename": "examples/account_opening_form.png", "key": "pan-id", "expected": "BBMPK0627D", "llm_is_correct": false, "min_logprob": -0.4740770161151886, "mean_logprob": -0.06369657416963893, "var_logprob": 0.01882014718059482}, {"filename": "examples/annual_return.png", "key": "plan-name", "expected": "Annual Return Plan", "llm_is_correct": true, "min_logprob": -0.00498410128057003, "mean_logprob": -0.0004626025196227023, "var_logprob": 2.0448578127885194e-06}, {"filename": "examples/annual_return.png", "key": "effective-date", "expected": "2022-02-05", "llm_is_correct": false, "min_logprob": -0.31651532649993896, "mean_logprob": -0.02307104192108714, "var_logprob": 0.006624676355866921}, {"filename": "examples/declaration_of_intent.png", "key": "name-of-candidate", "expected": "Brian Will", "llm_is_correct": true, "min_logprob": -0.47988271713256836, "mean_logprob": -0.05865022750578776, "var_logprob": 0.021325629004116622}, {"filename": "examples/declaration_of_intent.png", "key": "chairperson-email", "expected": "brian@wrig1.com", "llm_is_correct": true, "min_logprob": -0.013787459582090378, "mean_logprob": -0.0008946316655489284, "var_logprob": 1.1096979682393381e-05}, {"filename": "examples/declaration_of_intent.png", "key": "treasurer-name", "expected": "Nina Bishop", "llm_is_correct": true, "min_logprob": -1.771655115589965e-05, "mean_logprob": -2.1406680303925896e-06, "var_logprob": 2.5021255951953556e-11}, {"filename": "examples/declaration_of_intent.png", "key": "date-received", "expected": "2021-05-21", "llm_is_correct": true, "min_logprob": -0.0031777136027812958, "mean_logprob": -0.00023317164595937356, "var_logprob": 5.958627925577007e-07}, {"filename": "examples/domestic_expenditure.png", "key": "medical-percent", "expected": "23%", "llm_is_correct": true, "min_logprob": -0.0004938178462907672, "mean_logprob": -5.486864958786302e-05, "var_logprob": 2.4084549660765607e-08}, {"filename": "examples/domestic_expenditure.png", "key": "largest-spend-category", "expected": "Expenditure on education and miscelllanious Expenditure", "llm_is_correct": false, "min_logprob": -0.030256953090429306, "mean_logprob": -0.0015159841914822892, "var_logprob": 4.347614725174537e-05}, {"filename": "examples/domestic_expenditure.png", "key": "rent", "expected": "12%", "llm_is_correct": true, "min_logprob": -5.836499985889532e-05, "mean_logprob": -8.416603358390213e-06, "var_logprob": 4.1584322448481876e-10}, {"filename": "examples/greenhouse_temperature.png", "key": "max-temp", "expected": 25, "llm_is_correct": true, "min_logprob": -0.020044492557644844, "mean_logprob": -0.0022283528991869795, "var_logprob": 3.96768651379517e-05}, {"filename": "examples/greenhouse_temperature.png", "key": "1pm-temp", "expected": 24.5, "llm_is_correct": false, "min_logprob": -1.0738804340362549, "mean_logprob": -0.08260618723355807, "var_logprob": 0.08188538603118782}, {"filename": "examples/greenhouse_temperature.png", "key": "max-temp-time", "expected": "12h00", "llm_is_correct": true, "min_logprob": -0.0002613358374219388, "mean_logprob": -2.010275672476452e-05, "var_logprob": 4.849449935220782e-09}, {"filename": "examples/health_intake_form.png", "key": "patient-dob", "expected": "1986-09-04", "llm_is_correct": true, "min_logprob": -0.006728634238243103, "mean_logprob": -0.0004926666442770511, "var_logprob": 2.670173873309521e-06}, {"filename": "examples/health_intake_form.png", "key": "email", "expected": "sally.walker@email.com", "llm_is_correct": false, "min_logprob": -9.233804303221405e-05, "mean_logprob": -1.117394636713181e-05, "var_logprob": 6.920753891472134e-10}, {"filename": "examples/nestle_financial_statements_2024_p6.png", "key": "profit-2024", "expected": 11174000000, "llm_is_correct": true, "min_logprob": -1.8624639324116288e-06, "mean_logprob": -2.0765763864005748e-07, "var_logprob": 2.407384148061174e-13}, {"filename": "examples/nestle_financial_statements_2024_p6.png", "key": "profit-2023", "expected": 11509000000, "llm_is_correct": true, "min_logprob": -0.0001584850688232109, "mean_logprob": -9.905316801450681e-06, "var_logprob": 1.4717295140565172e-09}]}, "mark": {"type": "bar", "binSpacing": 0, "opacity": 0.7}, "encoding": {"color": {"field": "llm_is_correct", "title": "LLM is Correct", "type": "nominal"}, "tooltip": [{"field": "llm_is_correct", "title": "LLM is correct", "type": "nominal"}, {"aggregate": "count", "title": "Number of examples", "type": "quantitative"}], "x": {"bin": {"maxbins": 100}, "field": "min_logprob", "title": "min(logprob)", "type": "quantitative"}, "y": {"aggregate": "count", "stack": null, "title": "Count", "type": "quantitative"}}, "height": 400, "params": [{"name": "param_1e9efca18e7a2868", "select": {"type": "interval", "encodings": ["x", "y"]}, "bind": "scales"}], "title": "Distribution of min(logprob)", "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v6.1.0.json"};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>